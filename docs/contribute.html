<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contribute to DGL &mdash; DGL 2.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=61a4c737" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=0bf289b5" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=9caaf7ed"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=ccdb6887"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DGL Foreign Function Interface (FFI)" href="developer/ffi.html" />
    <link rel="prev" title="dgl.udf.NodeBatch.batch_size" href="generated/dgl.udf.NodeBatch.batch_size.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            DGL
          </a>
              <div class="version">
                2.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install/index.html">Install and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/blitz/index.html">A Blitz Introduction to DGL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Materials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stochastic_training/index.html">üÜï Stochastic Training of GNNs with GraphBolt</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide_cn/index.html">Áî®Êà∑ÊåáÂçó„ÄêÂåÖÂê´ËøáÊó∂‰ø°ÊÅØ„Äë</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide_ko/index.html">ÏÇ¨Ïö©Ïûê Í∞ÄÏù¥Îìú[ÏãúÎåÄÏóê Îí§Ï≥êÏßÑ]</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphtransformer/index.html">üÜï Tutorial: Graph Transformer</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/sparse/index.html">Tutorials: dgl.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/cpu/index.html">Training on CPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/multi/index.html">Training on Multiple GPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/dist/index.html">Distributed training</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/models/index.html">Paper Study with DGL</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.html">dgl</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.data.html">dgl.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.dataloading.html">dgl.dataloading</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.DGLGraph.html">dgl.DGLGraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.distributed.html">dgl.distributed</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.function.html">dgl.function</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.geometry.html">dgl.geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.graphbolt.html">üÜï dgl.graphbolt</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/nn-pytorch.html">dgl.nn (PyTorch)</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/nn.functional.html">dgl.nn.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.ops.html">dgl.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.optim.html">dgl.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.sampling.html">dgl.sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.sparse_v0.html">dgl.sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/dgl.multiprocessing.html">dgl.multiprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/transforms.html">dgl.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/python/udf.html">User-defined Functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Notes</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contribute to DGL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-development-process">General development process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git-setup-for-developers">Git setup (for developers)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#coding-styles">Coding styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-new-models-as-examples">Contributing New Models as Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-hosting">Data hosting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-core-features">Contributing Core Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supporting-multiple-platforms">Supporting Multiple Platforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-and-testing">Building and Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#unit-tests">Unit tests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-documentations">Contributing Documentations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-docs-locally">Building Docs Locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contributing-editorial-changes-via-github-web-interface">Contributing Editorial Changes via GitHub Web Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contributing-code-changes">Contributing Code Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer/ffi.html">DGL Foreign Function Interface (FFI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="env_var.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DGL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contribute to DGL</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/contribute.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contribute-to-dgl">
<h1>Contribute to DGL<a class="headerlink" href="#contribute-to-dgl" title="Link to this heading">ÔÉÅ</a></h1>
<p>Any contribution to DGL is welcome. This guide covers everything
about how to contribute to DGL.</p>
<section id="general-development-process">
<h2>General development process<a class="headerlink" href="#general-development-process" title="Link to this heading">ÔÉÅ</a></h2>
<p>A non-inclusive list of types of contribution is as follows:</p>
<ul class="simple">
<li><p>New features and enhancements (<a class="reference external" href="https://github.com/dmlc/dgl/pull/331">example</a>).</p></li>
<li><p>New NN Modules (<a class="reference external" href="https://github.com/dmlc/dgl/pull/788">example</a>).</p></li>
<li><p>Bugfix (<a class="reference external" href="https://github.com/dmlc/dgl/pull/247">example</a>).</p></li>
<li><p>Document improvement (<a class="reference external" href="https://github.com/dmlc/dgl/pull/263">example</a>).</p></li>
<li><p>New models and examples (<a class="reference external" href="https://github.com/dmlc/dgl/pull/279">example</a>).</p></li>
</ul>
<p>For features and bugfix, we recommend first raise an <a class="reference external" href="https://github.com/dmlc/dgl/issues">issue</a>
using the corresponding issue template, so that the change could be fully discussed with
the community before implementation. For document improvement and new models, we suggest
post a thread in our <a class="reference external" href="https://discuss.dgl.ai">discussion forum</a>.</p>
<p>Before development, please first read the following sections about coding styles and testing.
All the changes need to be reviewed in the form of <a class="reference external" href="https://github.com/dmlc/dgl/pulls">pull request</a>.
Our <a class="reference external" href="https://github.com/orgs/dmlc/teams/dgl-team/members">committors</a>
(who have write permission on the repository) will review the codes and suggest the necessary
changes. The PR could be merged once the reviewers approve the changes.</p>
</section>
<section id="git-setup-for-developers">
<h2>Git setup (for developers)<a class="headerlink" href="#git-setup-for-developers" title="Link to this heading">ÔÉÅ</a></h2>
<p>First, fork the DGL github repository. Suppose the forked repo is <code class="docutils literal notranslate"><span class="pre">https://github.com/username/dgl</span></code>.</p>
<p>Clone your forked repository locally:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>--recursive<span class="w"> </span>https://github.com/username/dgl.git
</pre></div>
</div>
<p>Setup the upstream to the DGL official repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>upstream<span class="w"> </span>https://github.com/dmlc/dgl.git
</pre></div>
</div>
<p>You could verify the remote setting by typing <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>origin<span class="w">  </span>https://github.com/username/dgl.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
origin<span class="w">  </span>https://github.com/username/dgl.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
upstream<span class="w">        </span>https://github.com/dmlc/dgl.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
upstream<span class="w">        </span>https://github.com/dmlc/dgl.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
</pre></div>
</div>
<p>During developing, we suggest work on another branch than the master.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>branch<span class="w"> </span>working-branch
git<span class="w"> </span>checkout<span class="w"> </span>working-branch
</pre></div>
</div>
<p>Once the changes are done, <a class="reference external" href="https://help.github.com/articles/creating-a-pull-request/">create a pull request</a>
so we could review your codes.</p>
<p>Once the pull request is merged, update your forked repository and delete your working branch:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>master
git<span class="w"> </span>pull<span class="w"> </span>upstream<span class="w"> </span>master
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master<span class="w">  </span><span class="c1"># update your forked repo</span>
git<span class="w"> </span>branch<span class="w"> </span>-D<span class="w"> </span>working-branch<span class="w">  </span><span class="c1"># the local branch could be deleted</span>
</pre></div>
</div>
</section>
<section id="coding-styles">
<h2>Coding styles<a class="headerlink" href="#coding-styles" title="Link to this heading">ÔÉÅ</a></h2>
<p>For python codes, we generally follow the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8 style guide</a>.
The python comments follow <a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html">NumPy style python docstrings</a>.</p>
<p>For C++ codes, we generally follow the <a class="reference external" href="https://google.github.io/styleguide/cppguide.html">Google C++ style guide</a>.
The C++ comments should be <a class="reference external" href="http://www.doxygen.nl/manual/docblocks.html#cppblock">Doxygen compatible</a>.</p>
<p>Coding styles check is mandatory for every pull requests. To ease the development, please check it
locally first (require cpplint and pylint to be installed first):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash<span class="w"> </span>tests/scripts/task_lint.sh
</pre></div>
</div>
<p>The python code style configure file is <code class="docutils literal notranslate"><span class="pre">tests/lint/pylintrc</span></code>. We tweak it a little bit from
the standard. For example, following variable names are accepted:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i,j,k</span></code>: for loop variables</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u,v</span></code>: for representing nodes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code>: for representing edges</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code>: for representing graph</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fn</span></code>: for representing functions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n,m</span></code>: for representing sizes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w,x,y</span></code>: for representing weight, input, output tensors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_</span></code>: for unused variables</p></li>
</ul>
</section>
<section id="contributing-new-models-as-examples">
<h2>Contributing New Models as Examples<a class="headerlink" href="#contributing-new-models-as-examples" title="Link to this heading">ÔÉÅ</a></h2>
<p>To contribute a new model within a specific supported tensor framework (e.g. PyTorch, or MXNet), simply</p>
<ol class="arabic simple">
<li><p>Make a directory with the name of your model (say <code class="docutils literal notranslate"><span class="pre">awesome-gnn</span></code>) within the directory
<code class="docutils literal notranslate"><span class="pre">examples/${DGLBACKEND}</span></code> where <code class="docutils literal notranslate"><span class="pre">${DGLBACKEND}</span></code> refers to the framework name.</p></li>
<li><p>Populate it with your work, along with a README.  Make a pull request once you are done.  Your README should contain at least these:</p>
<ul class="simple">
<li><p>Instructions for running your program.</p></li>
<li><p>The performance results, such as speed or accuracy or any metric, along with comparisons against some alternative implementations (if available).</p>
<ul>
<li><p>Your performance metric does not have to beat others‚Äô implementation; they are just a signal of your code being <em>likely</em> correct.</p></li>
<li><p>Your speed also does not have to surpass others‚Äô.</p></li>
<li><p>However, better numbers are always welcomed.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>The committers will review it, suggesting or making changes as necessary.</p></li>
<li><p>Resolve the suggestions and reviews, and go back to step 3 until approved.</p></li>
<li><p>Merge it and enjoy your day.</p></li>
</ol>
<section id="data-hosting">
<h3>Data hosting<a class="headerlink" href="#data-hosting" title="Link to this heading">ÔÉÅ</a></h3>
<p>One often wishes to upload a dataset when contributing a new runnable model example, especially when covering
a new field not in our existing examples.</p>
<p>Uploading data file into the Git repository directly is a <strong>bad idea</strong> because we do not want the cloners to
always download the dataset no matter what.  Instead, we strongly suggest the data files be hosted on a
permanent cloud storage service (e.g. DropBox, Amazon S3, Baidu, Google Drive, etc.).</p>
<p>One can either</p>
<ul class="simple">
<li><p>Make your scripts automatically download your data if possible (e.g. when using Amazon S3), or</p></li>
<li><p>Clearly state the instructions of downloading your dataset (e.g. when using Baidu, where auto-downloading
is hard).</p></li>
</ul>
<p>If you have trouble doing so (e.g. you cannot find a permanent cloud storage), feel free to post in our
<a class="reference external" href="https://discuss.dgl.ai">discussion forum</a>.</p>
<p>Depending on the commonality of the contributed task, model, or dataset, we (the DGL team) would migrate
your dataset to the official DGL Dataset Repository on Amazon S3.  If you wish to host a particular dataset,
you can either</p>
<ul class="simple">
<li><p>DIY: make changes in the <code class="docutils literal notranslate"><span class="pre">dgl.data</span></code> module; see our <a class="reference internal" href="api/python/dgl.data.html#apidata"><span class="std std-ref">dataset APIs</span></a> for more details, or,</p></li>
<li><p>Post in our <a class="reference external" href="https://discuss.dgl.ai">discussion forum</a> (again).</p></li>
</ul>
<p>Currently, all the datasets of DGL model examples are hosted on Amazon S3.</p>
</section>
</section>
<section id="contributing-core-features">
<h2>Contributing Core Features<a class="headerlink" href="#contributing-core-features" title="Link to this heading">ÔÉÅ</a></h2>
<p>We call a feature that goes into the Python <code class="docutils literal notranslate"><span class="pre">dgl</span></code> package a <em>core feature</em>.</p>
<p>Since DGL supports multiple tensor frameworks, contributing a core feature is no easy job.  However, we do
<strong>NOT</strong> require knowledge of all tensor frameworks.  Instead,</p>
<ol class="arabic simple">
<li><p>Before making a pull request, please make sure your code is covered with unit tests on <strong>at least one</strong>
supported frameworks; see the <a class="reference internal" href="#building-and-testing">Building and Testing</a> section for details.</p></li>
<li><p>Once you have done that, make a pull request and summarize your changes, and wait for the CI to finish.</p></li>
<li><p>If the CI fails on a tensor platform that you are unfamiliar with (which is well often the case), please
refer to <a class="reference internal" href="#supporting-multiple-platforms">Supporting Multiple Platforms</a> section.</p></li>
<li><p>The committers will review it, suggesting or making changes as necessary.</p></li>
<li><p>Resolve the suggestions and reviews, and go back to step 3 until approved.</p></li>
<li><p>Merge it and enjoy your day.</p></li>
</ol>
<section id="supporting-multiple-platforms">
<h3>Supporting Multiple Platforms<a class="headerlink" href="#supporting-multiple-platforms" title="Link to this heading">ÔÉÅ</a></h3>
<p>This is the hard one, but you don‚Äôt have to know PyTorch AND MXNet (maybe AND Tensorflow, AND Chainer, etc.,
in the future) to do so.  The rule of thumb in supporting Multiple Platforms is simple:</p>
<ul class="simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">dgl</span></code> Python package, <strong>always</strong> avoid using framework-specific operators (<em>including array indexing!</em>)
directly.  Use the wrappers in <code class="docutils literal notranslate"><span class="pre">dgl.backend</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy</span></code> arrays instead.</p></li>
<li><p>If you have trouble doing so (either because <code class="docutils literal notranslate"><span class="pre">dgl.backend</span></code> does not cover the necessary operator, or you don‚Äôt
have a GPU, or for whatever reason), please label your PR with the <code class="docutils literal notranslate"><span class="pre">backend</span> <span class="pre">support</span></code> tag, and one or more DGL
team member who understand CPU AND GPU AND PyTorch AND MXNet (AND Tensorflow AND Chainer AND etc.) will
look into it.</p></li>
</ul>
</section>
<section id="building-and-testing">
<h3>Building and Testing<a class="headerlink" href="#building-and-testing" title="Link to this heading">ÔÉÅ</a></h3>
<p>To build DGL locally, follow the steps described in <a class="reference internal" href="install/index.html#install-from-source"><span class="std std-ref">Install from source</span></a>.
However, to ease the development, we suggest NOT install DGL but directly working in the source tree.
To achieve this, export following environment variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">DGL_HOME</span><span class="o">=</span>/path/to/your/dgl/clone
<span class="nb">export</span><span class="w"> </span><span class="nv">DGL_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$DGL_HOME</span>/build
<span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$PYTHONPATH</span>:<span class="nv">$DGL_HOME</span>/python
</pre></div>
</div>
<p>If you are working on performance critical part, you may want to turn on Cython build:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>python
python<span class="w"> </span>setup.py<span class="w"> </span>build_ext<span class="w"> </span>--inplace
</pre></div>
</div>
<p>You could test the build by running the following command and see the path of your local clone.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import dgl; print(dgl.__path__)&#39;</span>
</pre></div>
</div>
<section id="unit-tests">
<h4>Unit tests<a class="headerlink" href="#unit-tests" title="Link to this heading">ÔÉÅ</a></h4>
<p>Currently, we use <code class="docutils literal notranslate"><span class="pre">nose</span></code> for unit tests.  The organization goes as follows:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">backend</span></code>: Additional unified tensor interface for supported frameworks.
The functions there are only used in unit tests, not DGL itself.  Note that
the code there are not unit tests by themselves.  The additional backend can
be imported with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">backend</span>
</pre></div>
</div>
<p>The additional backend contains the following files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backend/backend_unittest.py</span></code>: stub file for all additional tensor
functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">backend/${DGLBACKEND}/__init__.py</span></code>: implementations of the stubs
for the backend <code class="docutils literal notranslate"><span class="pre">${DGLBACKEND}</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">backend/__init__.py</span></code>: when imported, it replaces the stub implementations
with the framework-specific code, depending on the selected backend.  It
also changes the signature of some existing backend functions to automatically
select dtypes and contexts.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute</span></code>: All framework-agnostic computation-related unit tests go there.
Anything inside should not depend on a specific tensor library.  Tensor
functions not provided in DGL unified tensor interface (i.e. <code class="docutils literal notranslate"><span class="pre">dgl.backend</span></code>)
should go into <code class="docutils literal notranslate"><span class="pre">backend</span></code> directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">${DGLBACKEND}</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">pytorch</span></code> and <code class="docutils literal notranslate"><span class="pre">mxnet</span></code>): All framework-specific
computation-related unit tests go there.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">graph_index</span></code>: All unit tests for C++ graph structure implementation go
there.  The Python API being tested in this directory, if any, should be
as minimal as possible (usually simple wrappers of corresponding C++
functions).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint</span></code>: Pylint-related files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scripts</span></code>: Automated test scripts for CI.</p></li>
</ul>
<p>To run unit tests, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sh<span class="w"> </span>tests/scripts/task_unit_test.sh<span class="w"> </span>&lt;your-backend&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;your-backend&gt;</span></code> can be any supported backends (i.e. <code class="docutils literal notranslate"><span class="pre">pytorch</span></code> or <code class="docutils literal notranslate"><span class="pre">mxnet</span></code>).</p>
</section>
</section>
</section>
<section id="contributing-documentations">
<h2>Contributing Documentations<a class="headerlink" href="#contributing-documentations" title="Link to this heading">ÔÉÅ</a></h2>
<p>If the change is about document improvement, we suggest (and strongly suggest if you change the runnable code
there) building the document and render it locally before making a pull request.</p>
<section id="building-docs-locally">
<h3>Building Docs Locally<a class="headerlink" href="#building-docs-locally" title="Link to this heading">ÔÉÅ</a></h3>
<p>In general building the docs locally involves the following:</p>
<ol class="arabic">
<li><p>Install <code class="docutils literal notranslate"><span class="pre">sphinx</span></code>, <code class="docutils literal notranslate"><span class="pre">sphinx-gallery</span></code>, and <code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>.</p></li>
<li><p>You need both PyTorch and MXNet because our tutorial contains code from both frameworks.  This does <em>not</em>
require knowledge of coding with both frameworks, though.</p></li>
<li><p>Run the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>docs
./clean.sh
make<span class="w"> </span>html
<span class="nb">cd</span><span class="w"> </span>build/html
python3<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span><span class="m">8080</span>
</pre></div>
</div>
</li>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">http://localhost:8080</span></code> and enjoy your work.</p></li>
</ol>
<p>See <a class="reference external" href="https://github.com/dmlc/dgl/tree/master/docs">here</a> for more details.</p>
</section>
<section id="contributing-editorial-changes-via-github-web-interface">
<h3>Contributing Editorial Changes via GitHub Web Interface<a class="headerlink" href="#contributing-editorial-changes-via-github-web-interface" title="Link to this heading">ÔÉÅ</a></h3>
<p>If one is only changing the wording (i.e. not touching the runnable code at all), one can simply do
without the usage of Git CLI:</p>
<ol class="arabic simple">
<li><p>Make your fork by clicking on the <strong>Fork</strong> button in the DGL main repository web page.</p></li>
<li><p>Make whatever changes in the web interface <em>within your own fork</em>.  You can usually tell
if you are inside your own fork or in the main repository by checking whether you can commit
to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch: if you cannot, you are in the wrong place.</p></li>
<li><p>Once done, make a pull request (on the web interface).</p></li>
<li><p>The committers will review it, suggesting or making changes as necessary.</p></li>
<li><p>Resolve the suggestions and reviews, and go back to step 4 until approved.</p></li>
<li><p>Merge it and enjoy your day.</p></li>
</ol>
</section>
<section id="contributing-code-changes">
<h3>Contributing Code Changes<a class="headerlink" href="#contributing-code-changes" title="Link to this heading">ÔÉÅ</a></h3>
<p>When changing code, please make sure to build it locally and see if it fails.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="generated/dgl.udf.NodeBatch.batch_size.html" class="btn btn-neutral float-left" title="dgl.udf.NodeBatch.batch_size" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="developer/ffi.html" class="btn btn-neutral float-right" title="DGL Foreign Function Interface (FFI)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, DGL Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>