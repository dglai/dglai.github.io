<head>
    <!-- meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Library for deep learning on graphs">
    <meta name="keywords" content="Software, Machine Learning, Deep Learning, Neural Network, Graph">
    <meta name="author" content="Themeix">

    <!-- Site Title -->
    <title>Deep Graph Library</title>

    <!-- favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/dgl-favicon.png">

    <!-- IView CSS -->
    <link rel="stylesheet" href="//unpkg.com/iview/dist/styles/iview.css">

    <!-- Bootstrap CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font-Awesome CSS -->
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="/assets/css/googlefont.css" rel="stylesheet"> 

    <!-- Animate CSS -->
    <link rel="stylesheet" href="/assets/css/animate.min.css">

    <!-- Owl Carousel CSS -->
    <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/css/owl.theme.default.min.css">
    <!--<link rel="stylesheet" href="/assets/css/owl.carousel.min.css">-->

    <!-- Mean Menu CSS -->
    <link rel="stylesheet" href="/assets/css/meanmenu.min.css">

    <!-- Main Stylesheet -->
    <link href="/assets/css/style.css" rel="stylesheet">

    <!-- Responsive CSS -->
    <link href="/assets/css/responsive.css" rel="stylesheet">

    <!-- Minima CSS -->
    <link href="/assets/main.css" rel="stylesheet">

    <!-- Rouge Highlighter CSS -->
    <link href="/assets/css/syntax.css" rel="stylesheet">

    <link type="application/atom+xml" rel="alternate" href="https://www.dgl.ai/feed.xml" title="Deep Graph Library" />

    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132455605-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132455605-1');
</script>

    
</head>
  
<body>
    <!-- Preloader starts-->
    <div class="preloader">
        <div class="loading-center">
            <div class="loading-center-absolute">
                <div class="object object_one"></div>
                <div class="object object_two"></div>
                <div class="object object_three"></div>
            </div>
        </div>
    </div>
    <!-- Preloader ends -->
    <!-- Start Header -->
    <header>
      <!-- Start Mainmenu -->
<div class="menu-area navbar-fixed-top ">
    <div class="container">
        <div class="row">
            <div class="mainmenu-wrapper">
                <!-- Start Header Logo -->
                <div class="col-xs-12 col-md-3">
                    <div class="header-logo">
                        <a href="https://www.dgl.ai"><img src="/assets/images/logo.png" alt="logo"></a>
                    </div>
                </div>
                <!-- End Header Logo -->
                <!-- Start Navigation -->
                <div class="col-xs-12 col-md-9">
                    <div class="mainmenu">
                        <div class="navbar navbar-right">
                            <div class="navbar-header visible-xs">
                                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>
                            </div>
                            <div class="collapse navbar-collapse top-menu">

                           <!--  Static Dropdown Menu 

                                <nav>
                                    <ul class="nav navbar-nav">
                                        <li class="active"><a href="https://www.dgl.ai">Home<span>Get everything</span></a>
                                           <ul class="dropdown">
                                               <li><a href="index.html">Home Version 1</a></li>
                                               <li><a href="index-2.html">Home Version 2</a></li>
                                           </ul>                                                
                                        </li>
                                        <li><a href="about-us.html">About<span>Know about us</span></a></li>                                
                                        <li><a href="questions.html">Questions<span>Ask Your Question</span></a>
                                            <ul class="dropdown">
                                                <li>
                                                    <a href="questions.html"> <span><i class="fa fa-question-circle"></i></span>All Questions</a>
                                                </li>                                                       
                                                <li><a href="ask-question.html"><span><i class="fa  fa-question-circle-o"></i></span>Ask Questions</a></li>
                                                <li><a href="answers.html"><span><i class="fa fa-reply-all"></i></span>Answers</a></li>
                                                <li><a href="login.html"><span><i class="fa fa-sign-in"></i></span>Login</a></li>
                                                <li><a href="register.html"><span><i class="fa fa-registered"></i></span>Register</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#">Pages<span>See All Pages</span></a>
                                           <ul class="dropdown">
                                               <li><a href="index-2.html">Home 2</a></li>
                                               <li><a href="blog.html">Blog</a></li>
                                               <li><a href="blog-details.html">Blog Details</a></li>
                                               <li><a href="questions.html">Questions</a></li>
                                               <li><a href="answers.html">Answers</a></li>
                                               <li><a href="updates.html">Updates</a></li>
                                               <li><a href="contact.html">Contact</a></li>
                                               <li><a href="left-sidebar.html">Left Sidebar</a></li>
                                               <li><a href="right-sidebar.html">Right Sidebar</a></li>
                                               <li><a href="login.html">login</a></li>
                                               <li><a href="register.html">Register</a></li>
                                               <li><a href="404.html">404</a></li>
                                           </ul>
                                        </li>
                                        <li><a href="blog.html">Blog<span>All Blog Posts</span></a></li>
                                        <li><a href="updates.html">Updates<span>Latest releases</span></a></li>
                                        <li><a href="contact.html">Contact<span>Let us contact</span></a></li>
                                    </ul>
                                </nav> 

                                End Static Dropdown Menu -->

                                <nav>
                                    <ul class="nav navbar-nav">
                                    
                                    
                                    
                                    
                                     <li>
                                        <a href="/pages/about.html">about
                                          <!--<span>About DGL</span>-->
                                        </a>
                                     </li>
                                    
                                    
                                    
                                    
                                    
                                     <li>
                                        <a href="/pages/start.html">Get Started
                                          <!--<span>Install</span>-->
                                        </a>
                                     </li>
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                     <li>
                                        <a href="https://docs.dgl.ai/tutorials/blitz/index.html">Tutorials
                                        </a>
                                     </li>
                                     <li>
                                        <a href="/pages/index.html">Blogs
                                        </a>
                                     </li>
                                     <li>
                                        <a href="https://docs.dgl.ai">Docs
                                        </a>
                                     </li>
                                     <li>
                                        <a href="https://discuss.dgl.ai">Forum
                                        </a>
                                     </li>
                                     <li>
                                        <a href="https://github.com/dmlc/dgl">GitHub
                                        </a>
                                     </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Navigation -->
            </div>
        </div>
    </div>
</div>
<!-- End Mainmenu -->
<!-- Start Mobile Menu Area -->
<div class="col-xs-12 visible-xs">
    <div class="mobile-menu">
        <nav>
            <ul>
                <li><a href="/index.html">Home</a></li>
                
                
                
                
                 <li>
                    <a href="/pages/about.html">about
                    </a>
                 </li>
                
                
                
                
                
                 <li>
                    <a href="/pages/start.html">Get Started
                    </a>
                 </li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <!--
                <li><a href="#">Questions</a>
                    <ul>
                        <li><a href="questions.html"> Questions</a></li>
                        <li><a href="ask-question.html">Ask Questions</a></li>
                        <li><a href="answers.html">Answers</a></li>
                        <li><a href="login.html">Login</a></li>
                        <li><a href="register.html">Register</a></li>                               
                    </ul>
                </li>
                <li><a href="#">Pages</a>
                    <ul>
                       <li><a href="blog.html">Blog</a></li>
                       <li><a href="blog-details.html">Blog Details</a></li>
                       <li><a href="questions.html">Questions</a></li>
                       <li><a href="answers.html">Answers</a></li>
                       <li><a href="updates.html">Updates</a></li>
                       <li><a href="contact.html">Contact</a></li>
                       <li><a href="left-sidebar.html">Left Sidebar</a></li>
                       <li><a href="right-sidebar.html">Right Sidebar</a></li>
                       <li><a href="login.html">login</a></li>
                       <li><a href="register.html">Register</a></li>
                       <li><a href="404.html">404</a></li>                          
                    </ul>
                </li>                       
                -->
                <li><a href="https://docs.dgl.ai/tutorials/blitz/index.html">Tutorials</a></li>
                <li><a href="/pages/index.html">Blogs</a></li>
                <li><a href="https://docs.dgl.ai">Docs</a></li>
                <li><a href="https://discuss.dgl.ai">Forum</a></li>
                <li><a href="https://github.com/dmlc/dgl">GitHub</a></li>
            </ul>
        </nav>
    </div>
</div>
<!-- End MObile Menu Area

   </header>
    <!-- End Header -->
<!-- Start Page Banner Area -->
<div class="page-banner-area">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="page-title">
          <h2>Blog Details</h2>
          <span class="sub-title"><a href="https://www.dgl.ai">Home</a> / Blog Details</span>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Pages Banner Area -->

<!-- Start Blog Area -->
<section class="blog-area themeix-ptb">
  <div class="container">
    <div class="row">
      <!-- Start Blog Content -->
      <div class="col-md-12">
        <div class="blog-wrapper">

          <div class="single-blog-details">
            <div class="blog-img">
              <img src="https://i.imgur.com/JcnWxg2.jpg" alt="blog">
            </div>
            <div class="blog-content-desc">
              <h4 class="themeix-blog-h">When Kernel Fusion meets Graph Neural Networks</h4>
              <p><p>In DGL’s first release last December, we focused on usability by introducing a
set of carefully designed, easy-to-use APIs that support a variety of model
implementations of Graph Neural Networks. We decided to keep DGL
framework-agnostic to engage with users from different platforms (PyTorch,
MXNet…). As a result, in our earlier releases, we largely leveraged the
available functionalities provided by these frameworks, and based on many
valuable feedback from our users, we are well-aware of the room of improvement
particularly on some new models defined on the sparse and irregular graphs.</p>

<p>With DGL’s APIs from the first relase being well-received and gradually stable,
we have been working on boosting its performance in a high gear. Our next major
release (<strong>v0.3</strong>) will focus on much faster training speed, lower memory
consumption, and scalability.</p>

<p>The performance gains of the upcoming DGL v0.3 are substantial. Compared to the
current version, DGL v0.3 achieves up to <strong>19X</strong> the training throughput and
can train <strong>8X</strong> larger graphs on a single GPU.  DGL’s training speed is now
competitive with alternative frameworks such as Pytorch Geometric, however with
much better scalability. DGL allows training on considerably larger
graphs—<strong>500M</strong> nodes and <strong>25B</strong> edges. For a more concrete performance
evaluation and comparison, check out our <a href="https://rlgm.github.io/papers/49.pdf">workshop
paper</a> for more details.</p>

<p>In the rest of this post, we’ll get technical and describe fused message
passing, the key technique enabling these performance improvements.  We will
address the following questions:</p>

<ul>
  <li>Why cannot basic message passing scale to large graphs?</li>
  <li>How does fused message passing help?</li>
  <li>How to enable fused message passing in DGL?</li>
</ul>

<h2 id="why-cant-basic-message-passing-scale-to-large-graphs">Why can’t basic message passing scale to large graphs?</h2>
<p>Most GNN models perform message-passing style computation over a graph. Such a
computation constitutes two main user-defined functions:</p>

<ul>
  <li><strong>Message function</strong> specifies to send a message along an edge from a node to
its neighbor. This is <strong>edge-wise computation</strong> since it is performed for all
(or a subset of) edges.</li>
  <li><strong>Reduce function</strong> specifies to aggregate the incoming messages of a node
and updates the node feature. This is <strong>node-wide computation</strong> since it is
performed for all (or a subset of) nodes.</li>
</ul>

<p>The following figure gives an illustration. The user-defined message function
is denoted as <script type="math/tex">\phi^e</script>, which is used to generate a message (yellow boxes) on
each edge.  To create a message <script type="math/tex">m_{i,j}</script> for edge <script type="math/tex">i\rightarrow j</script>, the
message function takes into account the edge feature <script type="math/tex">e_{i,j}</script> as well as the
two endpoints’ node features, <script type="math/tex">h_i</script>, <script type="math/tex">h_j</script>. At each node, incoming messages are
aggregated using the user-defined reduce function <script type="math/tex">\sum</script> and another
user-defined function <script type="math/tex">\phi^v</script> is used to update the node feature. In DGL, one
can easily implement such message passing by calling <code class="highlighter-rouge">send</code> and <code class="highlighter-rouge">recv</code> APIs
(see <a href="https://docs.dgl.ai/tutorials/basics/3_pagerank.html">our tutorial on message passing for more
details</a>).</p>

<p><img src="https://i.imgur.com/wTda40k.jpg" alt="" width="450x" class="aligncenter" /></p>

<p>The basic strategy for implementing message-passing is straighforward. First,
we <code class="highlighter-rouge">send</code> messages by invoking <strong>edge-wise</strong> message functions.  Then, we
<code class="highlighter-rouge">recv</code> messages by applying <strong>node-wise</strong> computation to aggregate messages
according to their destination nodes (and updating node features). In DGL
example below, we implement <a href="https://docs.dgl.ai/tutorials/models/1_gnn/1_gcn.html">Graph Convolution Network
(GCN)</a> by specifying its
message and reduce functions in lambdas, and DGL uses basic message passing
underneath.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># A GCN example with user-defined message function.</span>
<span class="c"># Using user-defined message function causes DGL to use </span>
<span class="c"># the basic message passing strategy.</span>
<span class="n">G</span><span class="o">.</span><span class="n">update_all</span><span class="p">(</span><span class="k">lambda</span> <span class="n">edges</span><span class="p">:</span> <span class="p">{</span><span class="s">'m'</span> <span class="p">:</span> <span class="n">edges</span><span class="o">.</span><span class="n">src</span><span class="p">[</span><span class="s">'h'</span><span class="p">]},</span> 
             <span class="k">lambda</span> <span class="n">nodes</span><span class="p">:</span> <span class="p">{</span><span class="s">'h'</span> <span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">mailbox</span><span class="p">[</span><span class="s">'m'</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)})</span>
</code></pre>
</div>

<p>The problem with basic message passing is that messages are explicitly
materialized and stored, resulting in memory explosion as the graph becomes
larger. As a concrete example, consider the reddit graph dataset introduced in
the <a href="https://www-cs-faculty.stanford.edu/people/jure/pubs/graphsage-nips17.pdf">GraphSAGE
paper</a>.
It has 232K nodes and 114M edges. If we are to train a GCN model whose message
function copies the source node feature, this will cause a whopping <strong>~500
times</strong> memory consumption of the storage for the node features! It gets even
worse since the frequent memory access can bottleneck the computation, leading
to under-utilization of GPU device.</p>

<h1 id="fused-message-passing--no-explicit-messages">Fused message passing == NO explicit messages</h1>

<p>To avoid the overhead of materializing messages, we implement fused message
passing, i.e. combining the <code class="highlighter-rouge">send</code> and <code class="highlighter-rouge">recv</code> into one operation
<code class="highlighter-rouge">send_and_recv</code> (shown in following figure). Under the hood, the fused
<code class="highlighter-rouge">send_and_recv</code> operation is implemented using a CUDA kernel in which each
thread loads the source node feature into the per-thread local memory, computes
a message, and directly aggregates it into the buffer for a given destination
node and immediately discards the message afterwards.</p>

<p><img src="https://i.imgur.com/0oMUTrZ.png" alt="" class="aligncenter" /></p>

<p>To enable fused message passing, there are two challenges to be solved:</p>

<ul>
  <li><em>How to fuse the user-defined functions <script type="math/tex">\phi^e</script> and <script type="math/tex">\Sigma</script>?</em> In DGL, we
provide a set of pre-defined functions, called DGL built-ins, and let users
choose from them. This restricts the message and reduce functions to be used
for fused message passing, but we provide a variety of common functions so most
GNN models can be implemented. UDFs are still allowed, in which case DGL will
use basic message passing instead.</li>
  <li><em>How to backprop the gradient without explicit messages?</em>  The trick is to
recompute the message during backward propagation, similar to the technique
used in <a href="https://arxiv.org/abs/1604.06174">training very deep NN models</a>. In
practice, many <script type="math/tex">\phi^e</script> do not require explicit messages to compute the
gradient (such as copying the node features as messages), and our
implementation leverages this optimization.</li>
</ul>

<p>For example, we can re-write our earlier GCN implementation to use the built-in
<code class="highlighter-rouge">copy_src</code> message function and <code class="highlighter-rouge">sum</code> reduce function, as shown below.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">dgl.function</span> <span class="kn">as</span> <span class="nn">fn</span>
<span class="n">G</span> <span class="o">=</span> <span class="o">...</span> <span class="c"># some graph</span>
<span class="c"># copy src feature 'h' as the message and sum it as new 'h'</span>
<span class="n">G</span><span class="o">.</span><span class="n">update_all</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">copy_src</span><span class="p">(</span><span class="s">'h'</span><span class="p">,</span> <span class="s">'m'</span><span class="p">),</span> <span class="n">fn</span><span class="o">.</span><span class="nb">sum</span><span class="p">(</span><span class="s">'m'</span><span class="p">,</span> <span class="s">'h'</span><span class="p">))</span>
</code></pre>
</div>

<p><a href="https://docs.dgl.ai/tutorials/models/1_gnn/9_gat.html">A Graph Attention Network
(GAT)</a> can also be
implemented using the built-in <code class="highlighter-rouge">src_mul_edge</code> message function and <code class="highlighter-rouge">sum</code> reduce
function.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># the src features 'h' are weighted by the attention score 'e'</span>
<span class="c"># on the edges and are summed as the new feature 'h'</span>
<span class="n">G</span><span class="o">.</span><span class="n">update_all</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">src_mul_edge</span><span class="p">(</span><span class="s">'h'</span><span class="p">,</span> <span class="s">'e'</span><span class="p">,</span> <span class="s">'m'</span><span class="p">),</span> <span class="n">fn</span><span class="o">.</span><span class="nb">sum</span><span class="p">(</span><span class="s">'m'</span><span class="p">,</span> <span class="s">'h'</span><span class="p">))</span>
</code></pre>
</div>

<p>DGL v0.3 includes built-in functions that support the following combinations:</p>

<ul>
  <li>The message function <script type="math/tex">\phi^e</script> can be any one of add/sub/mul/div between two
given features among src, edge, dst.</li>
  <li>Broadcasting is supported on the feature dimensions. For example, a
multi-head attention module where the node feature is of shape <code class="highlighter-rouge">(NUM_HEADS,
NUM_FEATS)</code> and the attention score is of shape <code class="highlighter-rouge">(NUM_HEADS, 1)</code>.</li>
  <li>The reduce function <script type="math/tex">\Sigma</script> can be any one of sum/max/min/prod.</li>
</ul>

<p>The rule of thumb is to <strong>use built-in functions as much as possible</strong> so that
DGL can use fused message passing for better performance. We notice that this
might introduce some programming burden but the payoff is definitely worthy
(see next section for the evaluation results).</p>

<h1 id="convince-me-with-numbers">Convince me with numbers</h1>
<p>We compare with our v0.2 release to see how much we have improved the system.
In addition, we compare against PyG (Pytorch Geometric v1.2.0). PyG implements
basic message passing by first <code class="highlighter-rouge">gather</code> node features as edge messages and then
<code class="highlighter-rouge">scatter</code> them for message aggregation, which generates explicit messages.</p>

<p>We benchmark both GCN and GAT models on several popular datasets following
their original settings. The testbed is one AWS p3.2xlarge instance with NVIDIA
V100 GPU (16GB memory).</p>

<table>
  <thead>
    <tr>
      <th>Dataset</th>
      <th>#V</th>
      <th>#E</th>
      <th>Models</th>
      <th>DGL(v0.2) Times(s)</th>
      <th>PyG Time(s)</th>
      <th>DGL(v0.3) Time(s)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cora</td>
      <td>3K</td>
      <td>11K</td>
      <td>GCN<br />GAT</td>
      <td>0.685<br />9.727</td>
      <td>0.482<br />1.248</td>
      <td>0.619<br />1.389</td>
    </tr>
    <tr>
      <td>Citeseer</td>
      <td>3K</td>
      <td>9K</td>
      <td>GCN<br />GAT</td>
      <td>0.670<br />9.018</td>
      <td>0.490<br />1.254</td>
      <td>0.631<br />1.363</td>
    </tr>
    <tr>
      <td>Pubmed</td>
      <td>20K</td>
      <td>889K</td>
      <td>GCN<br />GAT</td>
      <td>0.694<br />26.186</td>
      <td>0.485<br />1.509</td>
      <td>0.603<br />1.381</td>
    </tr>
    <tr>
      <td><strong>Reddit</strong></td>
      <td><strong>232K</strong></td>
      <td><strong>114M</strong></td>
      <td><strong>GCN</strong></td>
      <td><strong>OOM</strong></td>
      <td><strong>OOM</strong></td>
      <td><strong>25.30</strong></td>
    </tr>
  </tbody>
</table>

<p>The up-coming release has huge performance boost especially on the GAT model
(<strong>19x</strong>) faster thanks to the kernel fusion. Compared with PyG, for small
graphs (i.e, Cora, Citeseer and Pubmed), the computation and memory consumption
stay the same, relatively invariant to the graph sizes. In this regime, the
graph computation does not bottleneck the training and DGL has some slight,
constant overhead compared with PyG. However, when evaluating on a much larger
graph extracted from Reddit, PyG runs out of memory while DGL fits the graph
quite easily.</p>

<p>We further perform some ablation studies using synthetic graphs.</p>

<p><img src="https://i.imgur.com/8K3n5PU.png" alt="" class="aligncenter" /></p>

<p>We first vary the number of nodes in the graph with fixed graph density
(0.0008), and test the training speed of GCN and GAT. DGL can train GCN on the
graph with up to 500K nodes, twice larger than PyG. PyG is also 3.4x slower
than DGL on the largest graph it can fits.</p>

<p><img src="https://i.imgur.com/VvI7xoc.png" alt="" class="aligncenter" /></p>

<p>We then fix the number of nodes in the graph (32K), but vary the density of the
graph. The result clearly shows the advantage of fused message passing. For
both GCN and GAT, DGL can train on graphs with up to 8 times more edges and is
7.5x faster than PyG on the largest graph it can fits.</p>

<p><img src="https://i.imgur.com/awXc1mP.png" alt="" class="aligncenter" /></p>

<p>We also vary the hidden layer size and compare the performance on a
median-sized graph (32K nodes with density 0.0008). For GCN, although PyG can
fit the largest hidden size we tested, it is 4x slower than DGL. For GAT, PyG
cannot train with hidden size of more than 32.</p>

<p>Finally, we push the limit to see how large is the graph can be trained on one
machine with large CPU memory (AWS x1.32xlarge instance with 2TB memory).</p>

<table>
  <thead>
    <tr>
      <th>#Nodes</th>
      <th>#Edges</th>
      <th>Times(s)</th>
      <th>Memory(GB)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>5M</td>
      <td>250M</td>
      <td>4.7</td>
      <td>8</td>
    </tr>
    <tr>
      <td>50M</td>
      <td>2.5B</td>
      <td>46</td>
      <td>75</td>
    </tr>
    <tr>
      <td>500M</td>
      <td>25B</td>
      <td>505</td>
      <td>740</td>
    </tr>
  </tbody>
</table>

<p>The result shows that DGL can train a GCN model on graphs with up to 500M nodes and 25B edges.</p>

<h2 id="whats-next">What’s next?</h2>

<p>The DGL team is very passionate about the bag of features to deliver on our
future agenda. As a matter of fact, many of these have been in our mind since
the intiation of the project. For example, the built-in functions have been our
priority the whole time but they only shine with the help of kernel fusion. To
shed some light on the directions we are working on:</p>

<ul>
  <li>A detailed demo and tutorial on how to reproduce the large graph experiement in this post on a large CPU machine.</li>
  <li>Support for heterogenous graph.</li>
  <li>Accelerate graph traversal and querying using GPU.</li>
</ul>

<p>DGL always stays close with our users and we greatly value your feedback! To
try out this new feature, simple as this: clone DGL’s repository, switch to
<code class="highlighter-rouge">kernel</code> branch and build the library from source.</p>

<p>Please stay tuned for our next major release! More good stuff coming soon.</p>
</p>
              <div class="blog-post-date">
                <p>04 <span>May</span> </p>
              </div>
              <div class="tag-links mt-30">
                <div class="widget">
                  <div class="tagcloud">
                    <a href="/tag/blog.html" class="set-3">blog</a> <a href="/tag/news.html" class="set-2">news</a> <a href="/tag/release.html" class="set-5">release</a>
                  </div>
                </div>
                <div class="blog-data">
                  <p>By 
                  
                  <a href="https://jermainewang.github.io/">Minjie Wang</a>,
                  
                  <a href="https://cs.nyu.edu/~lingfan/">Lingfan Yu</a>,
                  
                  <a href="https://cs.nyu.edu/~jakezhao/">Jake Zhao</a>,
                  
                  <a href="http://www.news.cs.nyu.edu/~jinyang/">Jinyang Li</a>,
                  
                  <a href="https://shanghai.nyu.edu/academics/faculty/directory/zheng-zhang">Zheng Zhang</a>,
                   in <a href="#">blog</a> </p>
                </div>
              </div>
              <!-- Leave a Comment -->
              <div id="respond">
                <div class="comment-respond pb-50">
                  <div id='discourse-comments'></div>
                  <script type="text/javascript">
  DiscourseEmbed = { discourseUrl: 'https://discuss.dgl.ai/',
                     discourseEmbedUrl: 'https://www.dgl.ai/blog/2019/05/04/kernel.html' };

  (function() {
    var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
    d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
  })();
</script>

                </div>
              </div>
              <!-- End Leave a Comment -->
            </div>
          </div>
        </div>
      </div>
      <!-- End Blog Content -->
      <!-- Start Blog Sidebar -->
      <!--
      <div class="col-md-3">
        <div class="row">
          <div class="blog-sidebar">
            <div class="col-md-12 col-sm-6">
              <aside id="dwqa-categories-2" class="widget widget_categories dwqa_widget dwqa_widget_categories sidebar-list">
                <h4 class="list-title">Categories</h4>
<ul>
	
	
    
	 <li><a href="topics/AngularJS">AngularJS</a></li> 
	

</ul>



              </aside>
            </div>
            <div class="col-md-12 col-sm-6">
              <aside class="widget dwqa-widget dwqa-popular-question">
                <div class="sidebar-popular-post dwqa-popular-questions">
                  <div class="popular-questions"> 
<h2 class="widget-title">Popular Questions</h2>
<ul>

    

    
     <li><a href="/category_one/question_two">Can I Start Learning AngularJS Framework ?</a></li>
    
     <li><a href="/category_one/question_one">What is AngularJS ?</a></li>
    

    
    
     <li><a href="/category_two/question_three">How Can I Learning ReactJS Framework ?</a></li>
    
     <li><a href="/category_two/question_two">How Can I Learning ReactJS Framework ?</a></li>
    

    
    
     <li><a href="/category_three/question_three">Can I Learning EmberJS Framework ?</a></li>
    
     <li><a href="/category_three/question_two">How Can I Learning EmberJS Framework ?</a></li>
    

    
    
     <li><a href="/category_four/question_one">What is VueJS ?</a></li>
    
     <li><a href="/category_four/question_two">How Can I Learning VueJS Framework ?</a></li>
    

 </ul>
</div>
                </div>
              </aside>
            </div>
          </div>
        </div>
      </div>
      -->
      <!-- End Blog Sidebar -->
    </div>
  </div>
</section>
<!-- End Blog Area -->


    <!-- Start Footer Area -->
    <footer>
        <div class="footer-area themeix-ptb">
            <div class="container">
                <div class="row">
                    <div class="footer-wrapper">
                        <div class="col-sm-6 col-md-3">
                            <div class="single-footer">
                                <h3 class="footer-heading">Follow Us</h3>
                                <div class="single-footer-text">
                                    <p>Keep track the latest news, blogs and updates of DGL by following our social media accounts.</p>
                                </div>
                                <div class="social-links">
                                    <ul>
                                        <li><a href="https://twitter.com/GraphDeep"><i class="fa fa-twitter"></i></a></li>
                                        <li class="fb-link"><a href="https://www.facebook.com/GraphDeep/"><i class="fa fa-facebook"></i></a></li>
                                        <li><a href="/feed.xml"><i class="fa fa-rss"></i></a></li>
                                        <!--<li class="gp-link"><a href="#"><i class="fa fa-google-plus"></i></a></li>-->
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-3">
                            <div class="single-footer">
                                <h3 class="footer-heading">Quick Links</h3>
                                <div class="footer-list">
                                    <ul>
                                        <li><a href="/pages/about.html">About us</a></li>
                                        <li><a href="/pages/start.html">Get started</a></li>
                                        <li><a href="https://github.com/dmlc/dgl/releases">Latest updates</a></li>
                                        <li><a href="/pages/index.html">Blogs</a></li>
                                        <li><a href="https://github.com/dmlc/dgl/">Github</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-3">
                            <div class="single-footer">
                                <h3 class="footer-heading">Materials</h3>
                                <div class="footer-list">
                                    <ul>
                                        <li><a href="https://docs.dgl.ai/tutorials/models/index.html">Tutorials</a></li>
                                        <li><a href="https://discuss.dgl.ai">Discuss forum</a></li>
                                        <li><a href="https://github.com/dmlc/dgl/issues">Github issues</a></li>
                                        <li><a href="https://github.com/dmlc/dgl/blob/master/CONTRIBUTORS.md">Contributing</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-3">
                            <div class="single-footer">
                                <h3 class="footer-heading">Contact Us</h3>
                                <div class="subscribe-form">
                                    <form action="https://formspree.io/f/maylbdvy" method="POST">
                                        <input type="text" name="name" id="name" class="form-control" placeholder="Name" required>
                                        <input type="text" name="message" id="message" class="form-control" placeholder="Message" required>
                                        <input type="email" name="_replyto" id="email" class="form-control" placeholder="Email" required>
                                        <button type="submit" class="hover-bg">Submit</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Start Footer Bottom Area -->
        <!--
        <div class="footer-bottom-area themeix-pb">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="footer-bottom">
                            <div class="footer-logo">
                                <a href="#"><img src="/assets/images/footer-logo.png" alt="logo"></a>
                            </div>
                            <div class="footer-links">
                                <ul>
                                    <li><a href="#">Privacy Policy</a></li>
                                    <li><a href="#">Refund Policy</a></li>
                                    <li><a href="#">Disclaimer</a></li>
                                </ul>
                            </div>
                            <div class="copyright-text">
                                <p>All content Documenter &copy; 2017 - All rights reserved. - Proudly made with <a href="http://designingmarket.com">Designing Market</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        -->
        <!-- End Footer Bottom Area -->
        <!-- Start Scroll To Top -->
        <div class="scroll-top">
            <div class="scroll-icon">
                <i class="fa fa-angle-up"></i>
            </div>
        </div>
        <!-- End Scroll To Top -->
    </footer>
    <!-- End Footer Area -->

    <!-- jquery min -->
    <script src="/assets/js/jquery.min.js"></script>

    <!-- Bootstrap Js -->
    <script src="/assets/js/bootstrap.min.js"></script>

    <!-- jQuery Easing -->
    <script src="/assets/js/jquery.easing.js"></script>

    <!-- Owl Carousel Js -->
    <script src="/assets/js/owl.carousel.min.js"></script>

    <!-- Google Map -->
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOCx7VEftKaGSK2F2p_tUKmMSdN00palo"></script> -->

    <!-- Mean Menu -->
    <script src="/assets/js/jquery.meanmenu.js"></script>

    <!-- Particles JS CDN -->
    <script src="/assets/js/particles.min.js"></script> 

    <!-- Main Js -->
    <script src="/assets/js/main.js"></script>

    <!-- MathJax Js -->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
</body>

</html>
